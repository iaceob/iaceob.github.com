<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="幾文山" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>blog - 幾文山</title><link rel="stylesheet" href="/css/main.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">幾文山</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archives</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2017-02-09T12:49:41.000Z" class="post__time">February 9, 2017</time><h1 class="post__title"><a href="/post/iaceob-come-back/">舊博新開</a></h1></header><div class="post__main echo"><p>算算日子, 恩, 總算是把以前博客給弄好了, 現在重新開放.</p>
<p>這次直接拋棄了 wordpress 直接靜態化成 html 也放入到了 github 中, 與現在的博客放在一起.</p>
<p>關於訪問, 做了一層中間代理, 從日本的服務器訪問 github 做代理到 <code>iaceob.3u3.me</code> 域名去, 同時在這個博客中用 robots 禁止爬蟲抓取當前博客的 <code>/iaceob</code> 目錄.</p>
<p>現博客目錄結構如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── archives</span><br><span class="line">├── CNAME</span><br><span class="line">├── css</span><br><span class="line">├── fonts</span><br><span class="line">├── index.html</span><br><span class="line">├── page</span><br><span class="line">├── post</span><br><span class="line">├── README.md</span><br><span class="line">├── robots.txt</span><br><span class="line">├── sitemap.xml</span><br><span class="line">├── tags</span><br><span class="line">└── iaceob</span><br><span class="line">    ├── archives</span><br><span class="line">    ├── page</span><br><span class="line">    ├── robots.txt</span><br><span class="line">    ├── sitemap.xml</span><br><span class="line">    └── tag</span><br></pre></td></tr></table></figure>
<p>因此, 實際上 <code>blog.3u3.me/iaceob</code> 其實也是可以直接訪問原博客的, 只是在 robots 中禁止了不讓爬蟲去抓取.</p>
<p>這樣 <code>iaceob.3u3.me</code> 就能實現 https 訪問了.</p>
<p>關於 https 訪問, 當前博客也想到了用 https 訪問的方案了, 因為這個博客本身是託管於 github 的, 如果直接用 github 提供的 io 域名訪問, 其實本身就支持 https, 但是, 因為使用了 CNAME 解析, 而 github 的 ssl 無法支持被 CNAME 的域名, 因此無法直接使用 https 訪問.<br>網絡中也搜索過相關問題解決方案, 包括很多另外的第三方再次託管, 瞭解之後發現, 那些第三方實際上就像和爬蟲一樣的東西, 實現的方案其實是將放到 github 的文章再次抓取到第三方的 web 服務中, 而你的域名是交給第三方去實現 ssl 的, 變相的看來, 就是第三方提供了一個支持 ssl 的虛擬空間而已, 且有些服務抓取的還不及時, 換皮不換藥, 還不一定穩定(但不失為一個好辦法).<br>這裡想到的解決方案, 前提是要有一臺自己的服務器(因此其實也算不上是太好的方案, 並不是沒人都有自己的服務器), 且能夠連接到 github , 對, 看來你想到什麼了.<br>其實原理很簡單, 就和我的舊博客一樣, 做一次代理即可, github 中不要使用 CNAME, 將你的域名指向到你的服務器, 然後在 nginx 中對域名進行代理到 github, 然後在 nginx 中實現 ssl, 這樣就完成了, 這樣就不會有不及時的問題, 也完全在自己控制.<br>如果不想要 github.io 的那份博客被搜索引擎抓取, 可直接在 robots 中禁止任何爬蟲抓取, 然後在自己的服務器中攔截 robots 設置 CNAME 的域名想要被抓取的域名, 或者簡單暴力的直接到各個搜索引擎告訴不要抓取那個 io 的域名即可(雖然我不知道搜索引擎有沒有提供這種功能).</p>
<p>最後</p>
<p>關於原博客重開, 樣式其實就是抄的當前用的這個樣式, 然後改了改, 還有文章因為是通過抓取來的, 而不是直接從數據庫中查的, wordpress 的數據表實在太麻煩了, 因此可能會有亂象出現, 不在意就好.</p>
<p>有趣的是, 這次重新弄之前的博客, 以外讓我學會了用 Inkscape, 雖然就只是非常簡單的使用, 重開的博客 <a href="https://iaceob.3u3.me/favicon.svg" target="_blank" rel="noopener">favicon</a> 就是我自己畫的.</p>
<p>從放棄原博客開始, 說要重新弄, 到現在都已經超過一年了, 時間過的真快, 拖延症也越來越嚴重了.</p>
<p>原博客以後就不會在動了, 就這麼放著吧.</p>
<p>今年的第一件要做的事情完成了.</p>
<p>就這樣.</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/iaceob/" class="post__tag__link">iaceob</a></li><li class="post__tag__item"><a href="/tags/blog/" class="post__tag__link">blog</a></li></ul><a href="/post/iaceob-come-back/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2018 iaceob</div><menu class="page-menu u-fr"><li class="page-menu__item"><span title="Previous" class="page-menu__link icon-arrow-left page-menu__link--disabled"></span></li><li class="page-menu__item"><span title="Next" class="page-menu__link icon-arrow-right page-menu__link--disabled"></span></li></menu></footer></body></html>
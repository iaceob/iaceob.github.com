<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>feed - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives/">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2015-12-03T20:28:39.000Z">December 3, 2015</time> <h1><a href="/post/test-wordpress-feed/">測試 wordpress feed &lt;好暴力的過濾方式 ~&lt;.[[-_-]].&gt;~</a></h1> </header> <section class="post-main"><p>感覺這會出事 = =<br/> ~&lt;[[-_-]]&gt;~<br/> 不知道<br/> 搞不好還是大事 - -<br/> 但是從品牌效應來說, 覺得又不會,<br/> 我發了啊</p> <p> </p> <p>啊哈~, 果然沒事.</p> <p> </p> <pre>&lt;![CDATA[&lt;p&gt;感覺這會出事= =&lt;br /&gt;
~&lt;[[-_-]]&amp;gt;~&lt;br /&gt;
不知道&lt;br /&gt;
搞不好還是大事 &amp;#8211; &amp;#8211;&lt;br /&gt;
但是從品牌效應來說, 覺得又不會,&lt;br /&gt;
我發了啊&lt;/p&gt;
]]&gt;</pre> <p> </p> <p>看吧 果然出事了 哈哈哈哈</p> <p>各種閱讀器估計得有段時間看不到我這發佈的文章了~</p> <p> </p> <p> </p> <p>那剛好就趁着這篇文章來說說怎麼了, 其實很簡單, 就只是個 xss 攻擊</p> <p>前文中說沒事因爲是在正文中使用了 ]]&gt; , wordpress 會過濾掉, 但是 wordpress 的 feed 中有個 description 標籤, 是文章摘要. 這個會從 title 中取內容, 也就是文章表示, 而且使用了 CDATA 這玩意能讓 xml 標籤裏面能正常嵌入 &lt;&gt; , CDATA 區域的所有字符都會當作是文章, 而不是標籤, 區域從 &lt;![CDATA[ 開始, 直到第一次出現]]&gt; 結束.</p> <p>所以標題中出現了 ]]&gt; 但是沒過濾, 就導致 整個 xml 分析失敗, feed 就失效了~</p> <p>在有, 標題中其實也有過濾, 而且非常暴力, 如果標題出現了 &lt;/ &lt;ss&gt;, 這樣的 xml 的標記符, 會強制刪掉 = =</p> <p>只能說 wordpress 做的不徹底, 不過不是找虐估計也沒人會這麼發 ..</p> <p> </p> <p>我這先不改了就 等 pancake-blog 完工後導入這的文章在把標題改掉, 不然我自己就導入不鳥了 = =</p> <p> </p></section> <footer class="post-foot"> <ul class="post-tags"> <li><a href="/tag/feed/">feed</a></li> <li><a href="/tag/test/">test</a></li> <li><a href="/tag/undefined/">undefined</a></li> <li><a href="/tag/wordpress/">wordpress</a></li> </ul> </footer> </article> <menu class="page"> </menu> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>
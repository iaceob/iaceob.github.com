<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>connection - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2013-05-10T02:08:57.000Z">May 10, 2013</time> <h1><a href="/post/about-hibernate-database-connection-problem/">关于Hibernate数据库连接问题</a></h1> </header> <section class="post-main"><p>就在使用之前的java整合框架中，将其中的数据库从本地数据库切换到了外部数据库，不过出现了错误，错误信息如下：</p> <p>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: SELECT command denied to user ‘ruled’@’115.54.101.108′ for table ‘ssh_user’</p> <p>at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</p> <p>at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)</p> <p>at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)</p> <p>at java.lang.reflect.Constructor.newInstance(Constructor.java:525)</p> <p>at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)</p> <p>.....</p> <p>at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)</p> <p>at java.lang.Thread.run(Thread.java:722)</p> <p> </p> <p> </p> <p>关于数据库信息报的错误，我个人所遇到的都是没有连接到数据库。</p> <p>然后就进行测试，将外部数据库的url账户以及密码拿到数据库连接的公共类中进行测试</p> <p><img src="/img/about-hibernate-database-connection-problem/1.png"></p> <p> </p> <p>测试的结果是可以连接的，那么数据库就没有问题，又仔细看了spring中的配置，也没有问题。。。</p> <p> </p> <p><img src="/img/about-hibernate-database-connection-problem/2.gif"></p> <p> </p> <p>之后搜了下，出现这个问题是因为hibernate的配置文件的原因</p> <p>创建hibernate的配置文件当中会有一个 catalog 的配置项</p> <p>只要删除此配置项即可，至于原因吗。。。</p> <p>谷歌去</p> <p> </p> <p>修改的地方如下</p> <p>&lt;class catalog="ssh" name="name.iaceob.entity.User" table="ssh_user"&gt;</p> <p> </p> <p>将catalog配置项删除</p> <p>&lt;class name="name.iaceob.entity.User" table="ssh_user"&gt;</p> <p>就不会报错了。</p> <p> </p> <p> </p> <p>我只说，，，，奇葩。</p> <p> </p> <p>后面如果更新的话，这里会有修改的，所以现在需要修改的话手动吧。</p> <p> </p> <p> </p> <p>不早了，睡觉，晚安。</p> <p>===============================14-08-08<br/> 奇耙....</p></section> <footer class="post-foot"> <ul class="post-tags"> <li><a href="/tag/connection">connection</a></li> <li><a href="/tag/frame-database">frame.database</a></li> <li><a href="/tag/hibernate">hibernate</a></li> <li><a href="/tag/java">java</a></li> </ul> </footer> </article> <menu class="page"> </menu> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>
<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>hql 中变量顺序问题 - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2013-10-25T20:02:44.000Z">October 25, 2013</time> <h1>hql 中变量顺序问题</h1> </header> <section class="post-main"><p>hibernate 的查询并没有直接使用sql语句，而是封装成了hql</p> <p>hql在每次查询的时候需要各个字段的值只需要写入对应对象中的变量即可</p> <p>hql中使用的变量需要在改对象中有相应的构造方法才可以</p> <p>今天写了一个hql报错了，很诧异报错信息如下</p> <pre>cause=org.hibernate.PropertyNotFoundException: no appropriate constructor</pre> <p>告诉我没有相应的构造方法。。。当然是有的。。。</p> <p> </p> <pre>String hql = "select new Test(test.a, test.b,test.c, test.d) from Test as test";</pre> <p>Test.java</p> <pre>public Test(String a, int b, String d, String c) {
	this.a = a;
	this.b = b;
	this.d = d;
	this.c = c;
}</pre> <p>构造方法明明是有的 而且四个变量也都是相同的。。可还是报错。。</p> <p>因为之前也用过这个对象 还有其他的构造方法 试了其他的变量 尽然可以跑通 那就不是代码的问题了 而是 hql或者这个对象的问题了。</p> <p>试了几次 发现俩个都是没问题的。。。。。</p> <p>也拿去搜了搜 不过答案都是没有构造方法 。。可这明明是有的。。</p> <p> </p> <p>又看了看 发现 hql 中使用的变量的顺序和构造方法中的顺序不一样</p> <p>hql中</p> <p>test.a, test.b, test.c, test.d</p> <p>构造方法中</p> <p>String a, int b, String d, String c</p> <p>本着试试看的心态。。。把构造函数中的顺序改成和hql中一样，一跑 卧槽 通了。。。。。。。。。。。。</p> <p>这。。。。。</p> <p>原来不仅仅要有构造方法 构造方法中变量的顺序还必须要和hql中的一样，，否则hql就找不到这个方法。。。</p> <p>构造方法 我都是用自动生成的 没有手打 。。。。。。</p> <p>还特地试了其他的hql改变顺序 然后跑不通了 。。。(卧槽运气这么好 这么多次顺序都正确)</p> <p>好吧 当初没认真学 真不知道这是什么原因。。。</p> <p>看来得好好补补了。。。</p> <p> </p> <p> </p></section> <footer class="post-foot"> <ul class="post-tags"> <li><a href="/tag/constructors">constructors</a></li> <li><a href="/tag/hibernate">hibernate</a></li> <li><a href="/tag/hql">hql</a></li> <li><a href="/tag/java">java</a></li> </ul> </footer> </article> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>
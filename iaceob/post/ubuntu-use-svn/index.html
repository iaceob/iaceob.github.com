<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>ubuntu svn 使用 - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2013-11-15T01:56:28.000Z">November 15, 2013</time> <h1>ubuntu svn 使用</h1> </header> <section class="post-main"><p>在 ubuntu 中使用svn</p> <h2>安装</h2> <p>安装 Subversion</p> <pre>$ sudo apt-get install subversion
$ sudo apt-get install libapache2-svn</pre> <p>---<br/> 创建svn用户组.<br/> (对于我这种测试来说，完全没必要。。。就不写了。。这里只写最简单的使用方式，具体详细的描述见文末的链接)<br/> ---</p> <p>要通过 WebDAV 协议访问 SVN 文件仓库，必须配置您的 Apache 2 Web 服务器。必须加入下面的代码片段到您的 <code>/etc/apache2/mods-available/dav_svn.conf</code>中：</p> <pre>&lt;Location /svn/myproject&gt;
DAV svn
SVNPath /home/svn/myproject
AuthType Basic
AuthName "myproject subversion repository"
AuthUserFile /etc/subversion/passwd
#&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
Require valid-user
#&lt;/LimitExcept&gt;
&lt;/Location&gt;</pre> <p>如果需要用户每次登录时都进行用户密码验证，请将<code>&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;</code>与<code>&lt;/LimitExcept&gt;</code>两行注释掉。<br/> 重启apache</p> <pre>sudo service apache2 restart</pre> <p>接下来，您需要创建 /etc/subversion/passwd 文件，该文件包含了用户授权的详细信息。要添加用户，您可以执行下面的命令：</p> <pre>sudo htpasswd -c /etc/subversion/passwd user_name</pre> <p>它会提示您输入密码，当您输入了密码，该用户就建立了。"-c"选项表示创建新的<code>/etc/subversion/passwd</code>文件，所以user_name所指的用户将是文件中唯一的用户。如果要添加其他用户，则去掉"-c"选项即可：</p> <pre>sudo htpasswd /etc/subversion/passwd other_user_name</pre> <p>----<br/> 至此 svn 便安装完成了。<br/> 不过目测只能做测试用 就这样配置的话 会非常危险 。。。<br/> 能测试也就勾勒 。</p> <hr/> <h2>svn 命令</h2> <p>将文件checkout到本地目录 svn checkout path(path 是服务器上的目录)<br/> 例如：<code>$ svn checkout svn://[svn server path] /localpath</code><br/> 简写：<code>$ svn co svn://[svn server path] /localpath</code></p> <p><strong>往版本库中添加新的文件</strong><br/> <code>$ svn add file</code><br/> <code>$ svn add test.php</code>(添加test.php)<br/> <code>$ svn add *.php</code>(添加当前目录下所有的php文件)</p> <p><strong>将改动的文件提交到版本库</strong><br/> <code>$ svn commit -m "LogMessage" [-N] [--no-unlock] PATH</code>(如果选择了保持锁,就使用-no- unlock开关)<br/> 例如：<code>$ svn commit -m 'add test file for my test' test.php</code><br/> 简写：<code>$ svn ci </code></p> <p><strong>更新到某个版本</strong><br/> <code>$ svn update -rm path</code><br/> 例如：<code>$ svn update</code>如果后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本。<br/> <code>$ svn update -r 200 test.php</code>(将版本库中的文件test.php还原到版本200)<br/> <code>$ svn update test.php</code>(更新，于版本库同步。如果在提交的时候提示过期的话，是因为冲突，需要先update，修改文 件，然后清除<code>$ svn resolved</code>，最后再提交commit)<br/> 简写：<code>$ svn up </code></p> <p><strong>删除文件</strong><br/> <code>$ svn delete path -m 'delete test fle'</code><br/> 例如：<code>$ svn delete test.php</code> 然后再<code>$ svn ci -m 'delete test file'</code><br/> 简写：<code>$ svn (del, remove, rm) </code></p> <p><strong>比较差异</strong><br/> <code>$ svn diff path</code>(将修改的文件与基础版本比较)<br/> 例如：<code>$ svn diff test.php</code><br/> <code>$ svn diff -r m:n path</code>(对版本m和版本n比较差异)<br/> 例如：<code>$ svn diff -r 200:201 test.php</code><br/> 简写：<code>$ svn di </code></p> <p><strong>查看文件或者目录状态</strong><br/> 1)<code>$ svn status path</code>(目录下的文件和子目录的状态，正常状态不显示)<br/> 【?：不在svn的控制中；M：内容被修改；C：发生冲突；A：预定加入到版本库；K：被锁定】<br/> 2)svn status -v path(显示 文件和子目录状态)<br/> 第一列保持相同，第二列显示工作版本号，第三和第四列显示最后一次修改的版本号和修改人。<br/> 注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝。<br/> 简写：<code>$ svn st </code></p> <p><strong>解决冲突</strong><br/> <code>$ svn resolved</code>: 移除工作副本的目录或文件的"冲突"状态。<br/> 用法: <code>$ resolved PATH...</code><br/> 注意: 本子命令不会依语法来解决冲突或是移除冲突标记；它只是移除冲突的<br/> 相关文件，然后让 PATH 可以再次提交。</p> <p>后面的就不copy了。。。。</p> <p>文章来源链接：</p> <p>http://wiki.ubuntu.org.cn/SubVersion</p> <p>http://zhan.renren.com/itbegin?gid=3602888498033631485&amp;checked=true</p></section> <footer class="post-foot"> <ul class="post-tags"> <li><a href="/tag/subversion">subversion</a></li> <li><a href="/tag/svn">svn</a></li> <li><a href="/tag/ubuntu">ubuntu</a></li> </ul> </footer> </article> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>
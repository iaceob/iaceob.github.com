<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>wordpress 禁用 google 字体 - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2014-11-22T21:44:08.000Z">November 22, 2014</time> <h1>wordpress 禁用 google 字体</h1> </header> <section class="post-main"><p>我大天朝把 google 给封了, 然后打开各种慢= =.</p> <p>基本上都打不开, 还是把 google 字体给封了吧... 万恶的 GFW .</p> <p>各种折腾, 还把 twentyfourteen 给玩坏了 = =</p> <p>封印方式:</p> <p>在模板函数文件中追加如下内容</p> <pre>add_filter('gettext_with_context', 'disable_open_sans', 888, 4 );
function disable_open_sans( $translations, $text, $context, $domain ) {
    if ( 'Open Sans font: on or off' == $context &amp;&amp; 'on' == $text ) $translations = 'off';
    return $translations;
}</pre> <p>去除后可以在模板的样式文件中修改字体.</p> <p>要不改天还是把之前那模板给写起来吧.</p> <p>另外 google 的统计代码也是如此</p> <p>不可以将统计代码放在 head 中, 一被墙 整站都打不开了.</p> <p>虽然放在底部也并不能完全解决问题, 但总比放头部阻止页面渲染的要好.</p> <p>祝病魔早日战胜方校长!!!</p> <p>- 2014-12-17</p> <p>更新补, 在functions.php中添加如下函数禁止 Twenty Fourteen 模板google字体</p> <pre>// Remove Lato Font
function qot_dequeue_fonts() {
wp_dequeue_style( 'twentyfourteen-lato' );
}
add_action( 'wp_enqueue_scripts', 'qot_dequeue_fonts', 11 );</pre> <p>多提交几次</p></section> <footer class="post-foot"> <ul class="post-tags"> <li><a href="/tag/fonts">fonts</a></li> <li><a href="/tag/google">google</a></li> <li><a href="/tag/twentyfourteen">TwentyFourteen</a></li> <li><a href="/tag/wordpress">wordpress</a></li> </ul> </footer> </article> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>
<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>SQL CROSS JOIN & INNER JOIN - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2015-08-04T19:55:22.000Z">August 4, 2015</time> <h1>SQL CROSS JOIN & INNER JOIN</h1> </header> <section class="post-main"><p>七月过去了已经, 工作也有了着落(可是似乎并不是座理想的城市...).</p> <p>这段时间在看前人留下的代码, 发现和自己的编码习惯大相径庭(当然这是肯定的),用的都是我感觉并不是很好的技术实现的(当然也只是我认为而已),像 <a title="再来谈谈 ORM" href="/post/come-to-talk-about-orm/" target="_blank">HIBERNATE </a>SPRING .</p> <p>因此, 代码中的 SQL 简直稀烂...数据库的设计也不是很好.</p> <p>SO, 这里要说的就是 SQL 的问题了.</p> <p>在未使用 HIBERNATE 的地方, 操作数据库有像这样的一句 SQL:</p> <pre>select * from tab1, tab2
where tab1.id=tab2.id and tab2.name=?</pre> <p>第一眼看到认为是 tab1 inner join tab2 这样的关系, 但又不确定, 因为我从来不会这么写, 通常都会根据主表进行关联.</p> <p>待<a title="sql多表连接查询inner join, left join , right join ,full join ,cross join" href="http://www.cnblogs.com/china-liuyang/archive/2008/05/07/1187461.html" target="_blank">查询</a>后得知, from tab1, tab2 这种形式的 SQL 语句就相当于 进行 CROSS JOIN , 看到傻了- - 就没用过啊, 又是找资料, 看到了<a title="SQL Join的一些总结" href="http://www.cnblogs.com/rush/archive/2012/03/27/2420246.html" target="_blank">这个</a>,所以, 总结如下:</p> <p>INNER JOIN (内关联):</p> <p>关联出所关联的表中相同的数据.</p> <pre>select * from tab1
inner join tab2 on tab1.id=tab2.id
where tab2.name=?
</pre> <p>CROSS JOIN(交叉关联):</p> <p>执行所关联表的笛卡尔积, 也就是所关联表的 N*M 的组合.</p> <pre>select * from tab1, tab2 where tab2.name=?</pre> <p>对的. 这样才是一个交叉关联查询, 而</p> <pre>select * from tab1, tab2
where tab1.id=tab2.id and tab2.name=?</pre> <p>这样的语句是和 INNER JOIN 的作用是一样的, 也就是说当 CROSS JOIN 指定俩表中的某个字段相同, 就相当于 INNER JOIN .</p> <p> </p> <p>===</p> <p>CROSS JOIN 尽量不要使用, 代价非常昂贵, 另外 CROSS JOIN 俩表字段相同时相当于 INNER JOIN ,尽量使用 INNER JOIN 而不是使用 CROSS JOIN 来实现.</p></section> <footer class="post-foot"> <ul class="post-tags"> <li><a href="/tag/cross/">cross</a></li> <li><a href="/tag/database/">database</a></li> <li><a href="/tag/inner/">inner</a></li> <li><a href="/tag/join/">join</a></li> <li><a href="/tag/sql/">sql</a></li> </ul> </footer> </article> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>
<!doctype html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.svg"> <title>ubuntu php 连接 mysql - 生物烯丙菊</title> <link rel="stylesheet" href="/css/style.css"> </head> <body> <header class="head"> <h1 class="head-title"><a href="/">生物烯丙菊</a></h1> <h3 class="head-description"> <span class="flashlight">达文西手电筒</span> </h3> <ul class="head-nav"> <li><a href="/">Home</a></li> <li><a href="/archives">Archives</a></li> <li><a href="http://blog.3u3.me">幾文山</a></li> </ul> </header> <main class="main"> <article class="post"> <header class="post-head"> <time datetime="2013-10-20T23:19:40.000Z">October 20, 2013</time> <h1>ubuntu php 连接 mysql</h1> </header> <section class="post-main"><p>准备安装wordpress来写博的时候，安装的时候直接报错不能链接到数据库，遂测试了一下数据库链接，提示如下错误：</p> <pre>Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)</pre> <p> </p> <p>没有mysqld.sock这个文件，mysql的安装是通过deb安装包进行安装的，感觉应该不会出问题！！！</p> <p>查看 /etc/my.cnf 发现 socket 在 /tmp/mysql.sock</p> <p>搜索后发现很多解决方式，也试了好多方式，不过都失败了。。。。</p> <p>后来想想这些配置应该都是在php.ini这个配置文件中，那么就直接修改这个路径就是</p> <p>查看phpinfo发现 mysql mysqli 配置项都有这个配置，打开php配置文件，查找这些配置，把后面的路径改成mysql的配置文件看到的路径。</p> <p>好，安装成功。</p> <p> </p> <p>--------------------------------------</p> <p>等等。。。。。。。。</p> <p>其实还是不要用上面的方式，虽然上面的方式也能解决问题，，但是只是治标不治本，如果其他软件有问题还是不能链接数据库。</p> <p>原来配置很简单，只需要在mysql的配置文件中修改 socket 的值为/var/run/mysqld/mysqld.sock 就能解决彻底解决这个问题。。</p> <pre>sudo gedit /etc/my.cnf</pre> <pre>#socket        = /tmp/mysql.sock
socket          = /var/run/mysqld/mysqld.sock</pre> <p> </p> <p>之后重启mysql服务即可。</p> <p> </p> <p>=========</p> <p>蛋疼，饶了一圈 。。。。。。。。。。。。。。。。。</p> <p>不过也知道怎么解决了，虽然还是不明白是为什么 。。。。。。</p> <p>慢慢来，淡定 ！</p></section> <footer class="post-foot"> <ul class="post-tags"> </ul> </footer> </article> </main> <footer class="foot"> <div>&copy;2017 iaceob</div> </footer> </body> </html>